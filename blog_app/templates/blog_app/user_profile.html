{% extends 'blog_app/base.html' %}
{% block title %}My Profile{% endblock title %}

{% block content %}
<div class="container mt-4">
  <h3 class="mb-4">My Posts</h3>

  {% for post in posts %}
    <div class="card mb-3">
      <div class="card-body">
        <h6 class="card-subtitle text-muted">
          {{ post.created_at }}
        </h6>

        <p class="card-text mt-2">{{ post.description }}</p>

        {% if post.image %}
          <img src="{{ post.image.url }}" class="img-fluid rounded" style="max-height: 300px;">
        {% endif %}


        {% if post.user == request.user %}
          <div class="mt-3">
            <a href="{% url 'edit-post' post.id %}" class="btn btn-sm btn-warning">Edit</a>
            <a href="{% url 'delete-post' post.id %}" class="btn btn-sm btn-danger">Delete</a>
          </div>
        {% endif %}
      </div>
    </div>
  {% empty %}
    <p class="text-muted">You haven't posted anything yet.</p>
  {% endfor %}
</div>
{% endblock content %}
